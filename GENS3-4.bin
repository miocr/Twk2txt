 §dujici vyskyt ¥retezce ¥'f'. ¥Tento ¥spolu ¥s ¥prikazem ¥'F' §uvedenym vyse se ¥pouziva ¥ke ¥krokovani ¥textovym ¥souborem §pricemz se nahrazuji retezce 'f' retezci 's' - viz ¥kapitola §3.3, kde je uveden priklad. ÄI ¦(INSERT) - Vlozi znaky na pozici ukazatele. V teto ¥cin¥osti §setrvava dokud se nestiskne ENTER - ¥ten ¥vrati ¥cin¥ost ¥do §hlavni smycky s ukazatelem nastavenym ¥za ¥posledni ¥vlozeny §znak. Pri teto cin¥osti zpusobi CH (DELETE) ¥vymazani ¥znaku §vlevo ¥od ¥ukazatele, ¥zatimco ¥CI ¥(ridici ¥funkce) ¥posune §ukazatel na dalsi tabelacni pozici a vklada mezery. ¬X ¦- Posune ukazatel na konec radku a automaticky ¥prechazi ¥do §cin¥osti vkladani (Insert) popsane vyse. ·C ¦(CHANGE) - Zmeni znak. Tento prikaz umoznuje prepsat znak na §pozici ukazatele a posunout ukazatel o jeden ¥krok ¥dopredu. §Nadale se zustava u teto cin¥osti dokud se nestiskne ¥ENTER, §cimz se vrati do hlavni smycky programu a ukazatel ¥bude ¥za §poslednim zmenenym ¥znakem. ¥CH ¥(DELETE) ¥v ¥tomto ¥pripade §posune pouze ukazatel o jeden ¥krok ¥zpet ¥zatimco ¥CI ¥nema §ucinek. ÿ½3.2.4 Prikazy pro pasku ÐText muze byt ulozen na pasku nebo nahran z ¥pasku ¥pouzitimprikazu 'P', 'G' a 'T'. ÿ±Prikaz: P n,m,s ÔOblast ¥radku ¥definovanou ¥n<x<m ¥ulozi ¦na ¥pasku ¥se ¥jmenemurcenym retezcem 's'. Pamatujte, ze ¥tyto ¥argumenty ¥mohou ¥bytdefinovany ¥drive ¥vlozenym ¥prikazem. ¥Pred ¥vlozenim §tohotoprikazu se presvedcte, ze ¥magnetofon ¥je zapnut ¥na ¥nahravani.Nepouzivejte ¥tento ¥prikaz, ¥budete-li ¥si ¥pozdeji ¥prat ¥tuto¥blast vlozit 'Include' (do jineho programu - textu). ¥V takovempripade pouzijte prikaz 'T'. ÿ¬Prikaz: G ,¥s ÖNa pasce hledate soubor s nazvem 's', ¥je-li ¥nalezen, ¥pak ¥jejulozite na konec textu. Neni-li vlozeno jmeno, nahraje se ¥prvnitextovy soubor na pasce. ÎPo vlozeni ¥prikazu ¥se ¥objevi ¥zprava ¥'Start ¥tape ¥.¥' ¥-spust¥e prehravani. Nyni se hleda soubor s uvedenym jmenem nebo v pripade,ze jmeno nebylo uvedeno, je vzat prvni textovy soubor.Pri souhlasu nazvu se zobrazi ¥zprava ¥'Using ¥filename', ¥jinak'Found filename' a hledani na pasce pokracuje. ¸Pamatujte, je-li ¥jakykoliv ¥textovy ¥soubor ¥jiz ¥umisten ¥vpameti, pak ¥nove ¥nahrany ¥soubor ¥z ¥pasky ¥bude ¥pripojen ¥kestavajicimu souboru a ¥cely ¥soubor ¥bude ¥precislovan ¥pocinajeradkem 1 s krokem 1. ÿ´Prikaz: T n,m,s ÔUlozit blok textu mezi radky n a m vcetne, ¥na ¥pasku ¥ve ¥tvaruvhodnem k pozdejsimu vlozeni ¥prikazem ¥as¥embleru ¥*F ¥- §vizkapitola 2.8. Soubor je ulozen s nazvem s. ¥Ukladani ¥se ¥zahajiokamzite ¥po ¥stisknuti ¥ENTER, ¥proto ¥se ¥presvedcte, ¥ze ¦jemagnetofon pripojen a spusten pred vlozenim ¥tohoto ¥prikazovehoradku. ÿÂ3.2.5 Kompilace a spusteni ÿ®Prikaz: ¥A ¥- ¥Provest ¥kompilaci ¥od ¥prvniho ¥radku ¥textovehosouboru. Podrobneji viz kapitola 2. ÿ¥Prikaz: ¥R - Byla-li kompilace ¥provedena ¥bez ¥chyby ¥a ¥urcenaprikazem ENT adresa spusteni, pak ¥lze ¥pouzit ¥prikazu ¥'R' ¥kespusteni programu ve strojnim ¥kodu. ¥Strojni ¥kod ¥muze ¥pouzitinstrukci ¥RET ¥(#C9) ¥k ¥navratu ¥do ¥editoru ¥pokud ¦ukazatelzasobniku (stack) bude po provedeni tohoto ¥programu ¥na ¥stejnepozici jako byl na zacatku. ÈUvedomte si, ze ENT se neprovede v ¥pripade, ¥ze ¥pro ¥kompilacibyla zvolena cin¥ost 16. ÿ°3.2.6 Ostatni prikazy ÿ³Prikaz: B - Jednoduse vrati rizeni do operacniho systemu BASIC. Navrat do as¥embleru se provede studenym nebo teplym startem vizkapitola 1. ÿ½Prikaz: C ¥- ¥Tento ¥prikaz ¥umoznuje ¥prevest ¥textove ¥souboryvytvorene pomoci GENS 1 na format pro GENS 3. Nahraje se textovysoubor GENS 1 prikazem 'G' ¥a ¥potom ¥se ¥prikazem ¥'C' ¥provedekonverze souboru a nahraje se jiz jako soubor ¥GENS ¥3 ¥prikazem'P' na pasku. Ù'C' nema ¥argument ¥a ¥muze ¥chvili ¥trvat ¥nez ¥se ¥konverzeprovede. ÿÀPrikaz: S,¥d - Tento ¥prikaz ¥umoznuje ¥zmenit ¥separator, kteryod¥eluje argument v prikazovem radku. Pri vstupu do ¥editoru ¥jecarka ',' brana jako separator; toto muze byt ¥zmeneno ¥prikazem'S' ¥na ¥prvni ¥znak ¥uvedeneho ¥retezce ¥d. ¥Pamatujte, ¥ze ¥podefinovani noveho separatoru musi byt tento pouzivan dokud ¥nenispecifikovan jiny prikazem 'S'. ÇJako separator nesmi byt pouzita mezera. øPrikaz: V - Zobrazi okamzitou ¥hodnotu ¥N1, ¥N2, ¥S1 ¥a ¥S2 ¥tj.standardni hodnoty ¥cisel ¥radku ¥a ¥retezcu. ¥Pouziva ¥se ¥predvkladanim prikazu pouzivajicich standardnich hodnot ke kontrole,zda tyto hodnoty jsou vhodne. ÿ«Prikaz: W n,m - Provede vypis oblasti ¥s ¥cisly ¥radku ¥n ¥az ¥mvcetne na tiskarnu. Pokud n a m maji standardni hodnotu, pak ¥sevytiskne cely textovy soubor. Tisk se prerusi ¥po ¥poctu ¥radku,nastavenem ¥prikazem ¥'K' ¥a ¥pokracuje ¥stlacenim ¦libovolnehotlacitka. ÿ¿Prikaz: X ¥- ¥zobrazi ¥dekadicky ¥pocatecni ¥a ¥koncovou ¥adresutextoveho souboru. To je uzitecne ¥pro ¥ulozeni ¥textu ¥v ¥ramciBASICu nebo chceme-li zjistit kolik pameti nam zbyva za textovymsouborem. GENS 3 ocekava, ze text zacina na ¥prvni ¥adrese ¥daneprikazem 'X' ¥a ¥koncovou ¥adresu ¥textu ¥ma ¥ulozenu ¥v ¥poziciTEXTEND, ktera je 'Start of GENS3 + 54'. Takze chcete-li ¥vepsat¥extovy soubor (napr. vytvoreni MONS3), musite ¥prevest ¥textovysoubor na adresu urcenou prvni adresou zobrazenou prikazem ¥'X',zmenit TEXTEND tak, aby ¥obsahoval ¥koncovou ¥adresu ¥souboru ¥akonecne vstoupit do GENS 3 teplym startem. Napr. vytvorili ¥jstetextovy soubor spravne ¥umisteny, ¥ktery ¥konci ¥na ¥(adresa ¥zaposlednim znakem konce radku) adrese #9A02. Dale ¥prdpokladejme,ze jste nahrali GENS 3 od 24064, mate v ¥BASICu ¥provest ¥prikazPOKE 24064+54,2 (#02) a POKE 24064+5¥,154 (#9A) a potom ¥spustitGENS 3 pomoci ¥RANDOMIZE ¥USR ¥24125. ¥Nyni ¥muzete ¥pracovat ¥stextovym souborem primo z editoru. ÿÿË3.3 Priklad pouziti editoru ÿ­Predpokladejme, ze jste psali do nasledujiciho programu ¥(pomociprikazu I10,10). ÿ¼10 #h ¦16 BIT RANDOM NUMBERS Æ20 á30 ;INPUT: ¥HL contains previous random number or se¥d. ¬40 ;OUTPUT: HL contains new randon number. ¹50 á60 Random PUSH AF ¨;save registers ¾70 PUSH BC Ù80 «PUSH HL Ò90 «AD¥ ¥HL,HL ¥;*2 É10¥ «AD¥ ¥HL,HL ¥;*4 É1¥0 «AD¥ ¥HL,HL ¥;*8 É120 «AD¥ ¥HL,HL ¥;*16 È130 «AD¥ ¥HL,HL ¥;*32 È140 «AD¥ ¥HL,HL ¥;*64 È150 «PIP ¥BC ¨;old random number º160 «AD¥ ¥HL,DE Î170 «LD ¦DE,41 Î180 «AD¥ ¥HL,DE Î190 «POP ¥BC ¨;restore registers º20¥ «POP ¥AF Ñ210 «REY ÿ·V programu jsou nasledujici chyby: ÿ¦Radek 10: v prikazu bylo pouzito h misto H ¹radek 40: randon misto random Æradek 70: PUSH BC zacina v poli navesti ¼radek 150: PIP misto POP Ëradek 160: chybi komentar (stylizacni chyba) ·radek 210: REY misto RET ÿ°Rovnez dva dalsi radky AD¥ HL,HL by mely byt vlozeny mezi ¥radky140 a 150 a vsechny reference na registrovy par ¥DE ¥na ¥radcich160 az 180 by mely byt na registrovy par BC. ÷Opravy provedeme takto: ÌE10 ENTER µpak_(space) C nasleduje H ENTER ENTERF40,40,randon,random ENTER pak pomocny prikaz 'S' ²E70 ENTER µpak I_ª(7 mezer) ENTER ENTER §I142,2 ENTER ²142_ªAD¥ HL,HL ¨;*128 Æ14¥_ªAD¥ HL,HL ¨;*256 a ¥'C¥'F150,150,PIP,POP ENTER ¨pak pomocny prikaz 'S' ²E160 ENTER ´pak X_¦;*257 + 41 ENTER ENTER ªF160,180,DE,BC ENTER ªpak opakovane pouzit 'S' °E210 ENTER ´pak CI CI _§C T ENTER ENTER «N10,10 ENTER ²precisluje text ùDurazne ¥doporucujeme ¥projit ¥celym ¥vyseuvedenym ¥prikladem ¥askutecne pouzit editor. ÿÿÖPRILOHA 1 CHYBOVA HLASENI A JEJICH VYZNAM. ù*ER¥OR* 1 ®Chyba v kontextu v danem radku ñ*ER¥OR* 2 ®Neznama mnemonika þ*ER¥OR* 3 ®Chybne formulovany prikazovy radek í*ER¥OR* 4 ®Vicenasobne definovany symbol ò*ER¥OR* 5 ®Radek obsahuje ¥nedovoleny ¥znak, tj. ¥znak, ·ktery je v danem kontextu neplatny í*ER¥OR* 6 ®Nedovoleny operand ý*ER¥OR* 7 ®Pouzity symbol je rezervovane slovo ì*ER¥OR* 8 ®Neshoda registru (mismatch) ô*ER¥OR* 9 ®Mnoho registru v prikazu ÷*ER¥OR* 10 ­Vyraz ¥pouzity ¥jako §8 ¥bitovy ¥ma ¥vetsi ·hodnotu nez 25¥ ÿ¥*ER¥OR* 1¥ ­Instrukce ¥JP ¥(IX+n) ¥a ¥JP ¥(IY+n) ¥nejsou ·dovoleny ÿ¬*ER¥OR* 12 ­Chyba v usporadani as¥embleroveho povelu ç*ER¥OR* 13 ­Nedovolena predbezna reference ¥tj. ¥Pouziti ·EQU pro dosud nedefinovany symbol î*ER¥OR* 14 ­Deleni nulou ÿ¨*ER¥OR* 15 ­Preplneni pri nasobeni ùBad ORG! ¯Byl proveden ORG pro adresu, ktera ¥zasahuje ·do ¥GENS, ¥textoveho ¥souboru ¥nebo ¥tabulky ·symbolu. Rizeni se vraci do editoru. ëOut of Table space! Vyskytne ¥se ¥pri ¥prvnim ¥prubehu, §pokud ·tabulka symbolu ma ¥nedostatecnou ¥velikost. ·Rizeni se okamzite vraci do editoru. ëBad Memory! ¬Zobrazi se, kdyz neni prostor pro dalsi text ·tj. konec textu se blizi k ramtop. Stavajici ·textovy soubor nebo jeho ¥cast ¥by ¥se ¥mela ·ulozit na pasku.